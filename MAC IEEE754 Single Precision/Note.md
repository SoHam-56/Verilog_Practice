Works for 32bits, acts weird for 16bits.
Logic is same for both and bits operations are adjusted accordingly for 16bit.
Can simulate, not synthesizable (need to try on VCS some day).
